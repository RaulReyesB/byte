extends ../layout/index

block content
    div(class="flex mt-0")
      // Contenedor principal para el formulario
      div(class="bg-white w-1/2")
        h1.text-center.text-4xl.my-10.font-extrabold.text-azul-rey Byte
          span.font-normal.text-lion Buss
        h2.text-center.text-3xl.font-extrabold.text-raisin-black #{pagina}
         if errors
            div(class="max-w-md my-10 ml-36")
              each error in errors
                div(class="rounded-md bg-blue-50 p-4 mb-2 animate-fadeOut faster")
                  div(class="flex")
                    div(class="flex-shrink-0")
                      // Ícono o elemento decorativo (opcional)
                      svg(class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20")
                        path(d="M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm-1 7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v10a2 2 0 01-2 2H4zm-1-2a3 3 0 003 3h10a3 3 0 003-3V5a3 3 0 00-3-3H6a3 3 0 00-3 3v10z")

                    div(class="ml-3")
                      p(class="text-sm font-medium text-blue-800")
                        = error.msg

      script.
        setTimeout(function() {
          const errorMessages = document.querySelectorAll(".animate-fadeOut");
          errorMessages.forEach(function(errorMessage) {
            errorMessage.addEventListener("animationend", function() {
              errorMessage.style.display = "none";
            });
            errorMessage.classList.add("opacity-0"); // Añadir clase para iniciar la animación
          });
        }, 10000);     // Ocultar los mensajes de error después de 5 segundos
      .mt-5.mx-auto.max-w-2xl
        // Fondo y sombra del formulario
        .bg-azul-rey.py-8.px-4.shadow-xl.rounded-xl
          // Formulario con espaciado entre elementos
          form.space-y-5(action="" method="POST" novalidate)
            input(type="hidden" name="_csrf" value=csrfToken)
            // Campo de nombre
            div
              label.block.text-sm.uppercase.text-white.mb-3.font-bold Nombre 
              input#nombre.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(placeholder="Nombre" name="nombre" value=user ? user.name : '' required)

            // Filas de dos elementos en pantallas medianas (md) y más grandes
            div(class="md:flex md:gap-4")
              // Campo de apellido paterno
              div(class="md:w-1/2")
                label.block.text-sm.uppercase.text-white.mb-3.font-bold Apellido paterno  
                input#apat.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(placeholder="Apellido paterno" name="apat" value=user ? user.apat : '' required)

              // Campo de apellido materno
              div(class="md:w-1/2")
                label.block.text-sm.uppercase.text-white.mb-3.font-bold Apellido materno
                input#amat.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(placeholder="Apellido materno" name="amat" value=user ? user.amat : '' required)

            // Campo de correo electrónico
            div
              label.block.text-sm.uppercase.text-white.mb-3.font-bold Email:
              input#correoElectronico.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white.bg-white(placeholder="user@domain.com" name="correoElectronico" value=user ? user.email : '' required)

            // Campo de contraseña
            div 
              label.block.text-sm.uppercase.text-white.mb-3.font-bold(for="password") Contraseña:
              input#contrasena.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white.bg-white(placeholder="Ingresa tu contraseña" name="contrasena" type="password" required)

            // Campo de confirmación de contraseña
            div 
              label.block.text-sm.uppercase.text-white.mb-3.font-bold Confirmar Contraseña:
              input#contrasena2.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white.bg-white(placeholder="Reingresa tu contraseña" name="contrasena2" type="password" required)

            // Filas de dos elementos en pantallas medianas (md) y más grandes
            div(class="md:flex md:gap-4")
              // Campo de fecha de nacimiento
              div(class="md:w-1/2")
                label.block.text-sm.uppercase.text-white.mb-3.font-bold Fecha de Nacimiento
                input#birthdate.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(name="birthdate" type="date" value=user ? user.birthdate : "" required)

              // Campo de género
              div(class="md:w-1/2")
                label.block.text-sm.uppercase.text-white.mb-3.font-bold Genero
                Select#gen.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(name="gen")
                  option(value="" selected disabled) -- SELECCIONA TU GENERO --
                  option(value="1") Hombre
                  option(value="2") Mujer
                  option(value="3") Otro
                  option(value="4") Prefiero no decirlo

            // Filas de tres elementos en pantallas medianas (md) y más grandes
            div(class="md:flex md:gap-4")
              // Campo de código postal
              div(class="md:w-1/3")
                label.block.text-sm.uppercase.text-white.mb-3.font-bold Codigo Postal
                input#cp.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(placeholder="Introduce tu Codigo Postal" name="cp" value=user ? user.cp : '' required)

              // Campo de dirección
              div(class="md:w-1/3")
                label.block.text-sm.uppercase.text-white.mb-3.font-bold Direccion
                input#dir.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(placeholder="Introduce tu Direccion" name="dir" value=user ? user.dir : '' required)

              // Campo de número de teléfono
              div(class="md:w-1/3")
                label.block.text-sm.uppercase.text-white.mb-3.font-bold Numero de Telefono
                input#tel.w-full.px-3.py-2.border.border.golden-brown.rounded-sm.place-holder-white-50.bg-white(placeholder="###-###-####" name="tel" value=user ? user.tel : ''  required)
            // Enlace para iniciar sesión con Google
            div.flex.items-center.justify-between
              a.text-xs.text-white(href="/user/login" class="hover:underline decoration-4 decoration-azul-chicle") Tienes una cuenta? Inicia sesion 
              a.text-xs.text-white(href="/user/forgot-password" class="hover:underline decoration-4 decoration-azul-chicle") Olvidaste tu contrasena? Recuperala
              a(href="/google" class="text-white font-bold py-3 rounded-xl bg-azul-fuerte hover:bg-azul-chicle cursor-pointer")| Iniciar sesión con Google

            // Botón de registro
            div
              input#button_register.w-full.bg-golden-brown(class="text-white font-bold py-3 rounded-xl bg-azul-fuerte hover:bg-azul-chicle cursor-pointer" type="submit" value="Crear Cuenta")